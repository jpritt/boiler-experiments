#PBS -q batch
#PBS -l walltime=480:00
#PBS -j n
#PBS -l pmem=16gb
#PBS -l vmem=16gb
#PBS -l pvmem=16gb
#PBS -l mem=16gb
#PBS -m ae
#PBS -M mpritt4@jhu.edu
echo 'Timing results for '$DIR
cd $DIR
#mkdir -p compressed
#echo 'Boiler'
#/scratch0/langmead-fs1/shared/Syrupy/scripts/syrupy.py /scratch0/langmead-fs1/shared/pypy3-2.4-linux_x86_64-portable/bin/pypy3 /scratch0/langmead-fs1/user/jacob/compress-alignments/boiler.py --compress --alignments tophat_out/accepted_hits_fixed.sam --output compressed/compressed.bin --frag-len-z-cutoff 0.125 --split-discordant --split-diff-strands

echo 'CRAM'
#/scratch0/langmead-fs1/shared/Syrupy/scripts/syrupy.py java -Xmx4g -jar /scratch0/langmead-fs1/shared/cramtools/cramtools-3.0.jar cram -I tophat_out/accepted_hits_fixed.bam -R /scratch0/langmead-fs1/user/jacob/genomes/Drosophila_melanogaster/Ensembl/BDGP5/Sequence/WholeGenomeFasta/genome.fa -O compressed/compressed.cram

/scratch0/langmead-fs1/shared/Syrupy/scripts/syrupy.py -S -i 0.0001 java -Xmx4g -jar /scratch0/langmead-fs1/shared/cramtools/cramtools-3.0.jar cram -I tophat_out/accepted_hits_fixed.bam -R /scratch0/langmead-fs1/user/jacob/genomes/Drosophila_melanogaster/Ensembl/BDGP5/Sequence/WholeGenomeFasta/genome.fa -O compressed/compressed.cram | /scratch0/langmead-fs1/user/jacob/compress-alignments/peakMem.py

#echo 'Goby'
#/scratch0/langmead-fs1/shared/Syrupy/scripts/syrupy.py goby 4g sam-to-compact -i tophat_out/accepted_hits_fixed.bam -o compressed/compressed.goby

